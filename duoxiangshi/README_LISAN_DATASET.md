# lisan.csv 测试数据集

## 数据集概述

`lisan.csv` 是一个专门为测试条件多项式规则发现系统而设计的数据集。该数据集包含明确的分类规则，用于验证规则发现算法的有效性。

## 数据结构

### 列定义
- **x**: 分类变量，取值为 `x1`, `x2`, `x3`
- **a**: 分类变量，取值为 `a1`, `a2`, `a3`
- **b**: 分类变量，取值为 `b1`, `b2`, `b3`
- **c**: 数值变量，取值为 `1-9` 范围内的整数
- **result**: 结果变量，根据规则计算得出

### 数据规模
- **总样本数**: 729 条记录
- **每种x值的样本数**: 243 条记录
- **数据分布**: 均匀分布，确保每种组合都有足够的样本

## 内置规则

数据集遵循以下明确的规则：

1. **规则1**: 当 `x = x1` 时，`result = a` 列的值
2. **规则2**: 当 `x = x2` 时，`result = b` 列的值  
3. **规则3**: 当 `x = x3` 时，`result = c` 列的值

### 规则验证结果
- **规则1准确率**: 100.0% (243/243)
- **规则2准确率**: 100.0% (243/243)
- **规则3准确率**: 100.0% (243/243)
- **总体准确率**: 100.0% (729/729)

## 文件结构

```
duoxiangshi/
├── data/
│   ├── lisan.csv                    # 主数据文件
│   └── lisan_manual_rules.json      # 手动发现的规则
├── utils/
│   └── generate_lisan_data.py       # 数据生成脚本
└── demos/
    ├── demo_lisan_rules.py          # 优化版规则发现演示
    ├── demo_lisan_simple_rules.py   # 原版规则发现演示
    └── demo_lisan_manual_analysis.py # 手动规律分析演示
```

## 使用方法

### 1. 生成数据集
```bash
cd duoxiangshi/utils
python generate_lisan_data.py
```

### 2. 手动规律分析
```bash
cd duoxiangshi/demos  
python demo_lisan_manual_analysis.py
```

### 3. 自动规则发现
```bash
cd duoxiangshi/demos
python demo_lisan_rules.py
```

## 数据示例

```csv
x,a,b,c,result
x2,a3,b3,4,b3
x1,a2,b3,5,a2
x2,a1,b3,2,b3
x2,a2,b2,2,b2
x3,a1,b2,1,1
```

## 预期用途

这个数据集特别适合用于：

1. **规则发现算法测试**: 验证算法是否能正确识别分类规则
2. **预测系统验证**: 测试基于规则的预测系统准确性
3. **算法性能评估**: 比较不同规则发现方法的效果
4. **教学演示**: 展示条件规则的概念和应用

## 技术挑战

### 对现有算法的挑战
- **数值型算法局限**: 传统的数值多项式规则发现算法无法处理这种分类规则
- **类型混合**: result列包含字符串和数字，需要特殊处理
- **分类特征**: x, a, b列都是分类特征，不是数值特征

### 解决方案
- **手动分析**: 通过数据分析手动发现规律
- **专门算法**: 需要开发专门处理分类规则的算法
- **类型转换**: 统一数据类型进行比较

## 验证结果

通过手动分析验证，数据集完全符合预期规则：
- 所有729条记录都严格遵循定义的规则
- 没有发现任何异常或错误案例
- 规则发现和预测测试均100%成功

## 扩展可能性

可以基于这个数据集进行以下扩展：
1. 增加更多分类变量
2. 引入噪声数据测试鲁棒性
3. 创建更复杂的条件组合规则
4. 添加缺失值处理测试 